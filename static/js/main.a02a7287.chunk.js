(this["webpackJsonpa-dot-is-not-the-end"]=this["webpackJsonpa-dot-is-not-the-end"]||[]).push([[0],{105:function(e,t,n){},106:function(e,t,n){},445:function(e,t,n){},453:function(e,t,n){},454:function(e,t,n){},455:function(e,t,n){},456:function(e,t,n){},457:function(e,t,n){},458:function(e,t,n){},459:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n(97),s=n.n(c),r=(n(105),n(106),n(98)),i=n.n(r),o={particles:{number:{value:160,density:{enable:!0,value_area:800}},color:{value:"#000000"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:1,random:!0,anim:{enable:!0,speed:1,opacity_min:0,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:4,size_min:.3,sync:!1}},line_linked:{enable:!1,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:1,direction:"none",random:!0,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:600}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"bubble"},onclick:{enable:!1,mode:"repulse"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:250,size:0,duration:2,opacity:0,speed:3},repulse:{distance:400,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0},l=n(26),u=n(11),j=n(9),d=n.n(j),b=n(18),p=n(13),h=n(16),m=n.n(h),O=n(99),x=n.n(O).a.create({baseURL:"https://a-dot-is-not-the-end-api.herokuapp.com"});function f(){return(f=Object(b.a)(d.a.mark((function e(t,n){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.post("/users/register",{email:t,password:n});case 3:a=e.sent,c=a.data,m.a.set("token",c.token),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.response.data.error);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var v=function(e,t){return f.apply(this,arguments)};function g(){return(g=Object(b.a)(d.a.mark((function e(t,n){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.post("/users/login",{email:t,password:n});case 3:a=e.sent,c=a.data,m.a.set("token",c.token),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.response.data.error);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var N=function(e,t){return g.apply(this,arguments)};function k(){return(k=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.a.remove("token"),t("");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=function(e){return k.apply(this,arguments)},w=n(2),S=Object(a.createContext)({});function _(e){var t=e.children;return Object(w.jsx)(S.Provider,{value:{register:v,login:N,logOut:y},children:t})}var C=function(){return Object(a.useContext)(S)};n(445);function E(){var e=Object(a.useState)(!1),t=Object(p.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),r=Object(p.a)(s,2),i=r[0],o=r[1],l=Object(u.e)(),j=Object(a.useState)(""),h=Object(p.a)(j,2),O=h[0],x=h[1],f=Object(a.useState)(""),v=Object(p.a)(f,2),g=v[0],N=v[1],k=C().register,y=m.a.get("token");function S(){return(S=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),e.next=4,k(O,g);case 4:l.push("/"),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error",e.t0.message),o(e.t0.message),console.log(i);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){y&&l.push("/")}),[y]),Object(w.jsxs)("div",{className:"register-container",children:[Object(w.jsx)("h1",{className:"company-name",children:"Psychometrika"}),Object(w.jsx)("h3",{className:"info",children:"Desafio Trainee"}),Object(w.jsx)("h3",{className:"info",children:"Registrar"}),Object(w.jsxs)("form",{onSubmit:function(e){return function(e){return S.apply(this,arguments)}(e)},children:[Object(w.jsxs)("div",{className:"email-box",children:[Object(w.jsx)("span",{children:"Email"}),Object(w.jsx)("input",{required:!0,name:"email",value:O,onChange:function(e){return x(e.target.value)},className:"email-input",type:"text",placeholder:"Seu email institucional"})]}),Object(w.jsxs)("div",{className:"password-box",children:[Object(w.jsx)("span",{children:"Password"}),Object(w.jsx)("input",{required:!0,value:g,onChange:function(e){return N(e.target.value)},className:"password-input",type:n?"text":"password",placeholder:"M\xednimo de 8 caracteres"}),Object(w.jsx)("span",{onClick:function(){return c(!n)},className:"".concat(n?"toggle-disabled":"toggle-active"," material-icons"),children:"visibility_off"})]}),Object(w.jsx)("div",{className:"errox-box",children:Object(w.jsx)("span",{className:"error-message",children:i})}),Object(w.jsx)("button",{className:"register-button",children:"Resgistrar"})]})]})}n(453);function A(){var e=Object(a.useState)(!1),t=Object(p.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),r=Object(p.a)(s,2),i=r[0],o=r[1],l=Object(u.e)(),j=Object(a.useState)(""),h=Object(p.a)(j,2),O=h[0],x=h[1],f=Object(a.useState)(""),v=Object(p.a)(f,2),g=v[0],N=v[1],k=C().login,y=m.a.get("token");function S(){return(S=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),o(""),e.prev=2,e.next=5,k(O,g);case 5:l.push("/"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.log("error",e.t0.message),o(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){y&&l.push("/")}),[y]),Object(w.jsxs)("div",{className:"login-container",children:[Object(w.jsx)("h1",{className:"company-name",children:"Psychometrika"}),Object(w.jsx)("h3",{className:"info",children:"Desafio Trainee"}),Object(w.jsx)("h3",{className:"info",children:"Login"}),Object(w.jsxs)("form",{onSubmit:function(e){return function(e){return S.apply(this,arguments)}(e)},action:"",children:[Object(w.jsxs)("div",{className:"email-box",children:[Object(w.jsx)("span",{children:"Email"}),Object(w.jsx)("input",{required:!0,name:"email",value:O,onChange:function(e){return x(e.target.value)},className:"email-input",placeholder:"Seu email institucional",type:"text"})]}),Object(w.jsxs)("div",{className:"password-box",children:[Object(w.jsx)("span",{children:"Password"}),Object(w.jsx)("input",{required:!0,value:g,onChange:function(e){return N(e.target.value)},className:"password-input",type:n?"text":"password",placeholder:"M\xednimo de 8 caracteres"}),Object(w.jsx)("span",{onClick:function(){return c(!n)},className:"".concat(n?"toggle-disabled":"toggle-active"," material-icons"),children:"visibility_off"})]}),Object(w.jsx)("div",{className:"errox-box",children:Object(w.jsx)("span",{className:"error-message",children:i})}),Object(w.jsx)("button",{className:"login-button",children:"Login"})]})]})}n(454);function P(e){var t=e.title,n=e.book,a=e.chapterIndex,c=Object(u.e)();function s(){c.push("/".concat(n.title,"/").concat(a))}return Object(w.jsxs)("div",{className:"chapter-card",children:[Object(w.jsxs)("div",{className:"left-components",children:[Object(w.jsx)("span",{className:"drag icon material-icons",children:"drag_indicator"}),Object(w.jsx)("div",{className:"chapter-number-circle",children:Object(w.jsx)("small",{className:"chapter-number",children:"1"})}),Object(w.jsx)("span",{onClick:function(){return s()},className:"chapter-title",children:t})]}),Object(w.jsxs)("div",{className:"right-components",children:[Object(w.jsx)("div",{className:"icon-box",children:Object(w.jsx)("span",{className:"icon material-icons",children:"visibility"})}),Object(w.jsx)("div",{className:"icon-box",onClick:function(){return s()},children:Object(w.jsx)("span",{className:"icon material-icons",children:"open_in_new"})})]})]})}n(455);function z(){var e=Object(a.useState)(),t=Object(p.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){function e(){return(e=Object(b.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("/books");case 2:return e.next=4,e.sent.data;case 4:t=e.sent,n=t.books,c(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(w.jsx)("div",{className:"all-books",children:null===n||void 0===n?void 0:n.map((function(e){return Object(w.jsxs)("div",{className:"book-container",children:[Object(w.jsx)("strong",{className:"class-name",children:"1\xaa S\xe9rie"}),Object(w.jsxs)("div",{className:"chapters",children:[Object(w.jsx)("span",{className:"book-verse",children:"Frente A"}),Object(w.jsx)("div",{className:"all-chapters",children:e.chapters.map((function(t,n){return Object(w.jsx)(P,{book:e,chapterIndex:n,title:t.title},n)}))})]})]},e.uuid)}))})}n(456);function D(){var e=Object(a.useState)(m.a.get("token")),t=Object(p.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),r=Object(p.a)(s,2),i=r[0],o=r[1],l=C().logOut,j=Object(u.e)();return n||j.push("/login"),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"header-container",children:[Object(w.jsxs)("div",{className:"info",children:[Object(w.jsx)("span",{className:"company-name",children:"Psychometrika"}),Object(w.jsx)("small",{className:"header-description",children:"Desafio Trainee"})]}),Object(w.jsxs)("div",{onClick:function(){return o(!i)},className:"".concat(i&&"with-background"," user-actions"),children:[Object(w.jsx)("div",{className:"user-image",children:Object(w.jsx)("span",{className:"mock-name",children:"A"})}),Object(w.jsx)("p",{className:"arrow"})]}),Object(w.jsxs)("div",{className:"".concat(!i&&"no-visible"," user-access"),children:[Object(w.jsx)("span",{className:"access-info",children:"Voc\xea est\xe1 atualmente com"}),Object(w.jsxs)("div",{className:"options",children:[Object(w.jsxs)("div",{className:"option",children:[Object(w.jsx)("input",{id:"option-one",name:"radio",value:"one",type:"radio"}),Object(w.jsxs)("label",{htmlFor:"option-one",children:[Object(w.jsx)("span",{})," Acesso do Admin"]})]}),Object(w.jsxs)("div",{className:"option",children:[Object(w.jsx)("input",{id:"option-two",name:"radio",value:"two",type:"radio",defaultChecked:!0}),Object(w.jsxs)("label",{htmlFor:"option-two",children:[Object(w.jsx)("span",{})," Acesso do Aluno"]})]})]}),Object(w.jsx)("span",{className:"change",children:"Alteral"}),Object(w.jsx)("button",{onClick:function(){return l(c)},className:"logout-button",children:"Sair"})]})]}),Object(w.jsx)("div",{className:"header-container",children:Object(w.jsx)("span",{className:"school-name",children:"Nome da Escola"})})]})}n(457);function q(){var e=Object(a.useState)(m.a.get("token")),t=Object(p.a)(e,2),n=t[0],c=(t[1],Object(u.e)());return n||c.push("/login"),Object(w.jsxs)("div",{className:"home-page",children:[Object(w.jsx)(D,{}),Object(w.jsx)(z,{})]})}n(458);function F(e){var t=e.match,n=Object(a.useState)(),c=Object(p.a)(n,2),s=c[0],r=c[1],i=m.a.get("token"),o=Object(u.e)();function l(){return(l=Object(b.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("/books/".concat(t.params.book),{headers:{authorization:"Bearer ".concat(i)}});case 3:n=e.sent,console.log("searchedBook",n.data.book),r(n.data.book.chapters[t.params.chapter]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error",e.t0.response.data.error);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return i||o.push("/login"),Object(a.useEffect)((function(){!function(){l.apply(this,arguments)}()}),[]),console.log("book",s),Object(w.jsxs)("div",{className:"chapter-contener",children:[Object(w.jsx)(D,{}),Object(w.jsx)("div",{className:"chapter-content",children:null===s||void 0===s?void 0:s.content})]})}var B=function(){return Object(w.jsxs)("div",{className:"app",children:[Object(w.jsx)(i.a,{className:"particles",params:o}),Object(w.jsxs)(l.a,{children:[Object(w.jsx)(u.a,{exact:!0,path:"/",component:q}),Object(w.jsx)(u.a,{exact:!0,path:"/:book/:chapter",component:F}),Object(w.jsx)(u.a,{path:"/register",component:E}),Object(w.jsx)(u.a,{path:"/login",component:A})]})]})};s.a.render(Object(w.jsx)(_,{children:Object(w.jsx)(B,{})}),document.getElementById("root"))}},[[459,1,2]]]);
//# sourceMappingURL=main.a02a7287.chunk.js.map